!function(t,e){"use strict";"function"==typeof define?define.amd?define(function(t){var n=t("jquery"),i=t("lodash"),r=t("backbone"),a=t("backbone.view"),s=t("template");return e(n,i,r,a,s)}):define.cmd&&define(function(t,n,i){var r=t("jquery"),a=t("lodash"),s=t("backbone"),o=t("backbone.view"),c=t("template");return e(r,a,s,o,c)}):t.scrollView=e(t.scrollView)}(this,function(t,e,n,i,r){"use strict";var a=n.Model.extend({idAttribute:"",defaults:{}});return i.extend({id:"",model:new a,attrs:{parentNode:null},events:{},setup:function(){var e=this.getAttr("parentNode"),n=this.getAttr("style"),i=t(e),r=new t.AMUI.iScroll(e,{click:!0});this.setAttr("iscroll",r),n&&i.css(n);var a=this.activate=this.getAttr("activate")||"true";if(a)switch(a){case"true":this.setActivateOn();break;case"false":this.setActivateOff()}var s={INPUT:"INPUT",TEXTAREA:"TEXTAREA"};document.addEventListener("touchend",function(t){document.activeElement.tagName in s&&document.activeElement.blur()},!1),document.addEventListener("touchmove",function(t){t.preventDefault()},!1)},refresh:function(){var t=this,e=t.getAttr("iscroll");e.refresh()},setActivateOn:function(){var e={"transition-duration":".2s","transition-timing-function":"linear",transform:"translate(0px, 0px)"},n=this.getAttr("parentNode");t(n).css(e)},setActivateOff:function(){var e=document.body.clientWidth,n={display:"none","transition-duration":"0s","transition-timing-function":"linear",transform:"translate("+e+"px, 0px)"},i=this.getAttr("parentNode");t(i).css(n)},onActivate:function(e){var n=this;{if(1!=e)return 0==e?void this.setActivateOff():void 0;var i=this.getAttr("parentNode");t(i).css("display","block");var r=setTimeout(function(){n.setActivateOn(),clearTimeout(r)},100)}}})});