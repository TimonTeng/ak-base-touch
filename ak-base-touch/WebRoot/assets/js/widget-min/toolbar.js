!function(t,e){"use strict";"function"==typeof define?define.amd?define(function(t){var i=t("jquery"),s=t("lodash"),n=t("backbone"),r=t("backbone.view"),o=t("template");return e(i,s,n,r,o)}):define.cmd&&define(function(t,i,s){var n=t("jquery"),r=t("lodash"),o=t("backbone"),a=t("backbone.view"),h=t("template");return e(n,r,o,a,h)}):t.scrollView=e(t.scrollView)}(this,function(t,e,i,s,n){"use strict";function r(){this.id=this.style=this.items=this.width=this.height=this.view=null,this.$body=null,this.$MeshItems=[],this.meshSize=0,this.maxMeshSize=12}r.prototype.initConfiguration=function(t){this.view=t,this.id=t.getAttr("id"),this.items=t.getAttr("items"),this.style=t.getAttr("style"),this.init()},r.prototype.init=function(){if(this.collectDigitSize(),this.checkMeshSize())throw Error("items.digit 累计不能 > 12");this.render()},r.prototype.collectDigitSize=function(){var t=this;this.items.forEach(function(e,i){if(isNaN(e.digit))throw Error("items.digit 参数值只能为数字类型");var s=e.digit||0;t.meshSize+=parseInt(s)})},r.prototype.createBody=function(){var e={"class":"am-plugin-toolbar am-g",id:this.id+""};this.$body=t("<div>",e);var i={};i.width=this.width||"100%",i.height=this.height||"49px",i.lineHeight=this.height||"49px",t.extend(i,this.style),this.$body.css(i)},r.prototype.createMeshItem=function(){var e=this;this.items.forEach(function(i,s){var n=e.defineMeshClass(i.digit),r=i.cssClass||"",o={id:i.id+"","class":n+" "+r+" am-plugin-toolbar-mesh"},a=t("<div>",o),h=i.html||"";a.append(h),a.appendTo(e.$body),e.$MeshItems.push(a);var u=i.touch||void 0;"function"==typeof u&&t(a).bind("touchend",u)})},r.prototype.checkMeshSize=function(){return this.meshSize>this.maxMeshSize},r.prototype.defineMeshClass=function(t){switch(t){case 1:return"am-u-sm-1";case 2:return"am-u-sm-2";case 3:return"am-u-sm-3";case 4:return"am-u-sm-4";case 5:return"am-u-sm-5";case 6:return"am-u-sm-6";case 7:return"am-u-sm-7";case 8:return"am-u-sm-8";case 9:return"am-u-sm-9";case 10:return"am-u-sm-10";case 11:return"am-u-sm-11";case 12:return"am-u-sm-12";default:return"am-u-sm-12"}},r.prototype.render=function(){this.createBody(),this.createMeshItem(),this.$body.appendTo(document.body)};var o=i.Model.extend({idAttribute:"",defaults:{}});return s.extend({id:"",model:new o,attrs:{parentNode:null},events:{},setup:function(){var t=this,e=new r;e.initConfiguration(t),t.setAttr("toolBar",e),document.addEventListener("touchmove",function(t){t.preventDefault()},!1)}})});