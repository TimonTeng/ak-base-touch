!function(t,e){"use strict";"function"==typeof define?define.amd?define(function(t){var n=t("jquery"),i=t("lodash"),o=t("backbone"),r=t("backbone.view"),s=t("template");return e(n,i,o,r,s)}):define.cmd&&define(function(t,n,i){var o=t("jquery"),r=t("lodash"),s=t("backbone"),a=t("backbone.view"),c=t("template");return e(o,r,s,a,c)}):t.scrollView=e(t.scrollView)}(this,function(t,e,n,i,o){"use strict";function r(){this.url=this.view=null,this.$title=this.$body=this.$frame=null}r.prototype.assembly=function(){this.close(),this.$frame.appendTo(this.$body),this.$body.appendTo(document.body),this.style&&this.$body.css(this.style)},r.prototype.createTitle=function(){},r.prototype.createBody=function(){this.$body=t("<div>",{"class":"am-plugin-sidebar"})},r.prototype.createFrame=function(){this.$frame=t("<iframe>",{id:"side-frame-view",width:"100%",height:"100%",scrolling:"no"})},r.prototype.initConfiguration=function(t){this.view=t,this.title=t.getAttr("title"),this.style=t.getAttr("style")||{},this.url=t.getAttr("url"),this.createBody(),this.createFrame(),this.assembly()},r.prototype.openUrl=function(t,e){var n=this,t=t||this.url;this.$frame.get(0).onload=function(){n.open();var t=setInterval(function(){n.$frame.get(0).contentWindow.document.parentWindow||(n.$frame.get(0).contentWindow.document.parentWindow=window,window.SideFrameView=n,clearInterval(t))},500)},t=-1!=t.indexOf("?")?t+"&v="+new Date:t+"?v="+new Date,this.$frame.attr("src",t)},r.prototype.bindClose=function(e){var n=this;t(e).bind("touchend",function(){n.close()})},r.prototype.open=function(){var t=this,e={display:"block","transition-duration":".2s","transition-timing-function":"linear",transform:"translate(0px, 0px)"};this.$body.css("display","block");var n=setTimeout(function(){t.$body.css(e),clearTimeout(n)},100)},r.prototype.close=function(){var t=this;this.$frame.get(0).onload=null;var e=document.body.clientWidth,n={"transition-duration":".2s","transition-timing-function":"linear",transform:"translate("+e+"px, 0px)"};this.$body.css(n);var i=setTimeout(function(){t.$body.css("display","none"),clearTimeout(i)},500)};var s=n.Model.extend({idAttribute:"",defaults:{}});return i.extend({id:"",model:new s,attrs:{parentNode:null},events:{},setup:function(){var t=this,e=new r;e.initConfiguration(t),t.setAttr("sideFrameView",e),document.addEventListener("touchmove",function(t){t.preventDefault()},!1)},open:function(t){var e=this.getAttr("sideFrameView");e.openUrl(null,t)},openUrl:function(t,e){var n=this.getAttr("sideFrameView");n.openUrl(t,e)}})});