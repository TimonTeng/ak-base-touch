!function(e,t){"use strict";"function"==typeof define?define.amd?define(function(e){var a=e("jquery"),i=e("lodash"),n=e("backbone"),o=e("backbone.view"),d=e("template");return t(a,i,n,o,d)}):define.cmd&&define(function(e,a,i){var n=e("jquery"),o=e("lodash"),d=e("backbone"),l=e("backbone.view"),s=e("template");return t(n,o,d,l,s)}):e.listView=t(e.listView)}(this,function(e,t,a,i,n){"use strict";var o=a.Model.extend({idAttribute:"imageGallery",defaults:{apiUrl:"",loadModelData:function(e){}}});return i.extend({id:"",model:new o,attrs:{template:"assets/template/widget/image-gallery.tpl"},events:{},setup:function(){var e=this;e.getAttr("type"),e.getAttr("data")},registerClose:function(){var t=this,a=t.getAttr("parentNode");e("[data-am-modal-close]").unbind("click").bind("click",function(){e(a).addClass("am-animation-leftsidepopup-hide");var t=setTimeout(function(){e(a).remove(),clearTimeout(t),e("#image-panel").modal("close")},200)})},actions:function(){var t=e.AMUI.Hammer;e(".am-slides").find("li").each(function(){var a=new t(e(this).get(0));a.on("press",function(t){e(".am-modal-actions").addClass("am-modal-active"),e(".am-modal-actions").find("[am-imagepanel-close]").unbind("click").bind("click",function(){e(".am-modal-actions").removeClass("am-modal-active")})})})},slider:function(){e(".am-slider").flexslider({slideshow:!1,controlNav:!1,after:function(){}})},show:function(){var t=this,a=t.getAttr("parentNode");e("#image-panel").modal({closeViaDimmer:0}),e(a).appendTo("[data-am-dimmer]");var i=setTimeout(function(){e(a).addClass("am-animation-leftsidepopup-show"),clearTimeout(i)},100),n={color:"white"};e("#data-am-imagepanel").find("h1").css(n)},modal:function(){var t=this;t.setAttr("parentNode",e("<div>",{id:"data-am-imagepanel","class":"am-animation-leftsidepopup"})),t.render(),t.show(),t.registerClose(),t.actions(),t.slider()},open:function(t){var a=this,i=e(t).data("id"),n=a.getAttr("apiUrl");e.getJSON(n,{homeworkId:i},function(e){var t=a.getAttr("loadModelData");t(a,e),a.modal()}).error(function(){console.log("Ajax Request Error!")})}})});